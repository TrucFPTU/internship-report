<!doctype html><html lang=vi class="js csstransforms3d"><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=generator content="Hugo 0.134.3"><meta name=description content><meta name=author content="thienlh@thienlu.com"><link rel=icon href=../../../images/favicon.png type=image/png><title>Blog 1 :: Báo cáo thực tập</title>
<link href=../../../css/nucleus.css?1765374078 rel=stylesheet><link href=../../../css/fontawesome-all.min.css?1765374078 rel=stylesheet><link href=../../../css/hybrid.css?1765374078 rel=stylesheet><link href=../../../css/featherlight.min.css?1765374078 rel=stylesheet><link href=../../../css/perfect-scrollbar.min.css?1765374078 rel=stylesheet><link href=../../../css/auto-complete.css?1765374078 rel=stylesheet><link href=../../../css/atom-one-dark-reasonable.css?1765374078 rel=stylesheet><link href=../../../css/theme.css?1765374078 rel=stylesheet><link href=../../../css/hugo-theme.css?1765374078 rel=stylesheet><link href=../../../css/theme-workshop.css?1765374078 rel=stylesheet><script src=../../../js/jquery-3.3.1.min.js?1765374078></script><style>:root #header+#content>#left>#rlblock_left{display:none!important}</style></head><body data-url=../../../vi/3-blogstranslated/3.1-blog1/><nav id=sidebar class=showVisitedLinks><div id=header-wrapper><div id=header><a id=logo href=../../../><svg id="Layer_1" data-name="Layer 1" viewBox="0 0 60 30" width="30%"><defs><style>.cls-1{fill:#fff}.cls-2{fill:#f90;fill-rule:evenodd}</style></defs><title>AWS-Logo_White-Color</title><path class="cls-1" d="M14.09 10.85a4.7 4.7.0 00.19 1.48 7.73 7.73.0 00.54 1.19.77.77.0 01.12.38.64.64.0 01-.32.49l-1 .7a.83.83.0 01-.44.15.69.69.0 01-.49-.23 3.8 3.8.0 01-.6-.77q-.25-.42-.51-1a6.14 6.14.0 01-4.89 2.3 4.54 4.54.0 01-3.32-1.19 4.27 4.27.0 01-1.22-3.2 4.28 4.28.0 011.46-3.4A6.06 6.06.0 017.69 6.46a12.47 12.47.0 011.76.13q.92.13 1.91.36V5.73a3.65 3.65.0 00-.79-2.66A3.81 3.81.0 007.86 2.3a7.71 7.71.0 00-1.79.22 12.78 12.78.0 00-1.79.57 4.55 4.55.0 01-.58.22h-.26q-.35.0-.35-.52V2a1.09 1.09.0 01.12-.58 1.2 1.2.0 01.47-.35A10.88 10.88.0 015.77.32 10.19 10.19.0 018.36.0a6 6 0 014.35 1.35 5.49 5.49.0 011.38 4.09zM7.34 13.38a5.36 5.36.0 001.72-.31A3.63 3.63.0 0010.63 12 2.62 2.62.0 0011.19 11a5.63 5.63.0 00.16-1.44v-.7a14.35 14.35.0 00-1.53-.28 12.37 12.37.0 00-1.56-.1 3.84 3.84.0 00-2.47.67A2.34 2.34.0 005 11a2.35 2.35.0 00.61 1.76A2.4 2.4.0 007.34 13.38zm13.35 1.8a1 1 0 01-.64-.16 1.3 1.3.0 01-.35-.65L15.81 1.51a3 3 0 01-.15-.67.36.36.0 01.41-.41H17.7a1 1 0 01.65.16 1.4 1.4.0 01.33.65l2.79 11 2.59-11A1.17 1.17.0 0124.39.6a1.1 1.1.0 01.67-.16H26.4a1.1 1.1.0 01.67.16 1.17 1.17.0 01.32.65L30 12.39 32.88 1.25A1.39 1.39.0 0133.22.6a1 1 0 01.65-.16h1.54a.36.36.0 01.41.41 1.36 1.36.0 010 .26 3.64 3.64.0 01-.12.41l-4 12.86a1.3 1.3.0 01-.35.65 1 1 0 01-.64.16H29.25a1 1 0 01-.67-.17 1.26 1.26.0 01-.32-.67L25.67 3.64l-2.56 10.7a1.26 1.26.0 01-.32.67 1 1 0 01-.67.17zm21.36.44a11.28 11.28.0 01-2.56-.29 7.44 7.44.0 01-1.92-.67 1 1 0 01-.61-.93v-.84q0-.52.38-.52a.9.9.0 01.31.06l.42.17a8.77 8.77.0 001.83.58 9.78 9.78.0 002 .2 4.48 4.48.0 002.43-.55 1.76 1.76.0 00.86-1.57 1.61 1.61.0 00-.45-1.16A4.29 4.29.0 0043 9.22l-2.41-.76A5.15 5.15.0 0138 6.78a3.94 3.94.0 01-.83-2.41 3.7 3.7.0 01.45-1.85 4.47 4.47.0 011.19-1.37 5.27 5.27.0 011.7-.86A7.4 7.4.0 0142.6.0a8.87 8.87.0 011.12.07q.57.07 1.08.19t.95.26a4.27 4.27.0 01.7.29 1.59 1.59.0 01.49.41.94.94.0 01.15.55v.79q0 .52-.38.52a1.76 1.76.0 01-.64-.2 7.74 7.74.0 00-3.2-.64 4.37 4.37.0 00-2.21.47 1.6 1.6.0 00-.79 1.48 1.58 1.58.0 00.49 1.18 4.94 4.94.0 001.83.92L44.55 7a5.08 5.08.0 012.57 1.6A3.76 3.76.0 0147.9 11a4.21 4.21.0 01-.44 1.93 4.4 4.4.0 01-1.21 1.47 5.43 5.43.0 01-1.85.93A8.25 8.25.0 0142.05 15.62z"/><path class="cls-2" d="M45.19 23.81C39.72 27.85 31.78 30 25 30A36.64 36.64.0 01.22 20.57c-.51-.46-.06-1.09.56-.74A49.78 49.78.0 0025.53 26.4 49.23 49.23.0 0044.4 22.53C45.32 22.14 46.1 23.14 45.19 23.81z"/><path class="cls-2" d="M47.47 21.21c-.7-.9-4.63-.42-6.39-.21-.53.06-.62-.4-.14-.74 3.13-2.2 8.27-1.57 8.86-.83s-.16 5.89-3.09 8.35c-.45.38-.88.18-.68-.32C46.69 25.8 48.17 22.11 47.47 21.21z"/></svg></a></div><div class=searchbox><label for=search-by><i class="fas fa-search"></i></label>
<input data-search-input id=search-by type=search placeholder=Search...>
<span data-search-clear><i class="fas fa-times"></i></span></div><script type=text/javascript src=../../../js/lunr.min.js?1765374078></script><script type=text/javascript src=../../../js/auto-complete.js?1765374078></script><script type=text/javascript>var baseurl="https://trucfptu.github.io/internshiop-report//vi"</script><script type=text/javascript src=../../../js/search.js?1765374078></script></div><div class=highlightable><ul class=topics><li data-nav-id=/vi/1-worklog/ title="Nhật ký công việc" class=dd-item><a href=../../../vi/1-worklog/><b>1. </b>Nhật ký công việc
<i class="fas fa-check read-icon"></i></a><ul><li data-nav-id=/vi/1-worklog/1.1-week1/ title="Week 1 Worklog" class=dd-item><a href=../../../vi/1-worklog/1.1-week1/><b>1.1. </b>Week 1 Worklog
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/vi/1-worklog/1.2-week2/ title="Week 2 Worklog" class=dd-item><a href=../../../vi/1-worklog/1.2-week2/><b>1.2. </b>Week 2 Worklog
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/vi/1-worklog/1.3-week3/ title="Week 3 Worklog" class=dd-item><a href=../../../vi/1-worklog/1.3-week3/><b>1.3. </b>Week 3 Worklog
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/vi/1-worklog/1.4-week4/ title="Week 4 Worklog" class=dd-item><a href=../../../vi/1-worklog/1.4-week4/><b>1.4. </b>Week 4 Worklog
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/vi/1-worklog/1.5-week5/ title="Nhật ký công việc Tuần 5" class=dd-item><a href=../../../vi/1-worklog/1.5-week5/><b>1.5. </b>Nhật ký công việc Tuần 5
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/vi/1-worklog/1.6-week6/ title="Nhật ký công việc Tuần 6" class=dd-item><a href=../../../vi/1-worklog/1.6-week6/><b>1.6. </b>Nhật ký công việc Tuần 6
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/vi/1-worklog/1.7-week7/ title="Nhật ký công việc Tuần 7" class=dd-item><a href=../../../vi/1-worklog/1.7-week7/><b>1.7. </b>Nhật ký công việc Tuần 7
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/vi/1-worklog/1.8-week8/ title="Nhật ký công việc Tuần 8" class=dd-item><a href=../../../vi/1-worklog/1.8-week8/><b>1.8. </b>Nhật ký công việc Tuần 8
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/vi/1-worklog/1.9-week9/ title="Nhật ký công việc Tuần 9" class=dd-item><a href=../../../vi/1-worklog/1.9-week9/><b>1.9. </b>Nhật ký công việc Tuần 9
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/vi/1-worklog/1.10-week10/ title="Nhật ký công việc Tuần 10" class=dd-item><a href=../../../vi/1-worklog/1.10-week10/><b>1.10. </b>Nhật ký công việc Tuần 10
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/vi/1-worklog/1.11-week11/ title="Nhật ký công việc Tuần 11" class=dd-item><a href=../../../vi/1-worklog/1.11-week11/><b>1.11. </b>Nhật ký công việc Tuần 11
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/vi/1-worklog/1.12-week12/ title="Nhật ký công việc Tuần 12" class=dd-item><a href=../../../vi/1-worklog/1.12-week12/><b>1.12. </b>Nhật ký công việc Tuần 12
<i class="fas fa-check read-icon"></i></a></li></ul></li><li data-nav-id=/vi/2-proposal/ title="Bản đề xuất" class=dd-item><a href=../../../vi/2-proposal/><b>2. </b>Bản đề xuất
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/vi/3-blogstranslated/ title="Các bài blogs đã dịch" class="dd-item
parent"><a href=../../../vi/3-blogstranslated/><b>3. </b>Các bài blogs đã dịch
<i class="fas fa-check read-icon"></i></a><ul><li data-nav-id=/vi/3-blogstranslated/3.1-blog1/ title="Blog 1" class="dd-item
active"><a href=../../../vi/3-blogstranslated/3.1-blog1/><b>3.1. </b>Blog 1
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/vi/3-blogstranslated/3.3-blog3/ title="Blog 2" class=dd-item><a href=../../../vi/3-blogstranslated/3.3-blog3/><b>3.3. </b>Blog 2
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/vi/3-blogstranslated/3.4-blog4/ title="Blog 4" class=dd-item><a href=../../../vi/3-blogstranslated/3.4-blog4/><b>3.4. </b>Blog 4
<i class="fas fa-check read-icon"></i></a></li></ul></li><li data-nav-id=/vi/4-eventparticipated/ title="Các events đã tham gia" class=dd-item><a href=../../../vi/4-eventparticipated/><b>4. </b>Các events đã tham gia
<i class="fas fa-check read-icon"></i></a><ul><li data-nav-id=/vi/4-eventparticipated/4.1-event1/ title="Event 1" class=dd-item><a href=../../../vi/4-eventparticipated/4.1-event1/><b>4.1. </b>Event 1
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/vi/4-eventparticipated/4.5-event5/ title=Event5 class=dd-item><a href=../../../vi/4-eventparticipated/4.5-event5/><b>4.2. </b>Event5
<i class="fas fa-check read-icon"></i></a></li></ul></li><li data-nav-id=/vi/5-workshop/ title=Workshop class=dd-item><a href=../../../vi/5-workshop/><b>5. </b>Workshop
<i class="fas fa-check read-icon"></i></a><ul><li data-nav-id=/vi/5-workshop/5.1-workshop-overview/ title="Giới thiệu" class=dd-item><a href=../../../vi/5-workshop/5.1-workshop-overview/><b>5.1. </b>Giới thiệu
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/vi/5-workshop/5.2-prerequiste/ title="Các bước chuẩn bị" class=dd-item><a href=../../../vi/5-workshop/5.2-prerequiste/><b>5.2. </b>Các bước chuẩn bị
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/vi/5-workshop/5.3-create-environmnet/ title="Tạo môi trường" class=dd-item><a href=../../../vi/5-workshop/5.3-create-environmnet/><b>5.3 </b>Tạo môi trường
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/vi/5-workshop/5.4upload-and-deploy/ title="Upload và Deploy" class=dd-item><a href=../../../vi/5-workshop/5.4upload-and-deploy/><b>5.4. </b>Upload và Deploy
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/vi/5-workshop/5.5-policy/ title="Truy cập ứng dụng và kiểm thử" class=dd-item><a href=../../../vi/5-workshop/5.5-policy/><b>5.5. </b>Truy cập ứng dụng và kiểm thử
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/vi/5-workshop/5.6-cleanup/ title="Quan sát và Dọn dẹp tài nguyên" class=dd-item><a href=../../../vi/5-workshop/5.6-cleanup/><b>5.6. </b>Quan sát và Dọn dẹp tài nguyên
<i class="fas fa-check read-icon"></i></a></li></ul></li><li data-nav-id=/vi/6-self-evaluation/ title="Tự đánh giá" class=dd-item><a href=../../../vi/6-self-evaluation/><b>6. </b>Tự đánh giá
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/vi/7-feedback/ title="Chia sẻ, đóng góp ý kiến" class=dd-item><a href=../../../vi/7-feedback/><b>7. </b>Chia sẻ, đóng góp ý kiến
<i class="fas fa-check read-icon"></i></a></li></ul><section id=shortcuts><h3>More</h3><ul><li><a class=padding href=https://www.facebook.com/groups/awsstudygroupfcj/><i class='fab fa-facebook'></i> AWS Study Group</a></li></ul></section><section id=prefooter><hr><ul><li><a class=padding><i class="fas fa-language fa-fw"></i><div class=select-style><select id=select-language onchange="location=this.value"><option id=en value=https://trucfptu.github.io/internshiop-report/3-blogstranslated/3.1-blog1/>English</option><option id=vi value=https://trucfptu.github.io/internshiop-report/vi/3-blogstranslated/3.1-blog1/ selected>Tiếng Việt</option></select><svg id="Capa_1" xmlns:xlink="http://www.w3.org/1999/xlink" width="255" height="255" viewBox="0 0 255 255" style="enable-background:new 0 0 255 255"><g><g id="arrow-drop-down"><polygon points="0,63.75 127.5,191.25 255,63.75"/></g></g></svg></div></a></li><li><a class=padding href=# data-clear-history-toggle><i class="fas fa-history fa-fw"></i> Clear History</a></li></ul></section><section id=footer><left><b>Workshop</b><br><img src="https://hitwebcounter.com/counter/counter.php?page=7920860&style=0038&nbdigits=9&type=page&initCount=0" title=Migrate alt="web counter" border=0></a><br><b><a href=https://cloudjourney.awsstudygroup.com/>Cloud Journey</a></b><br><img src="https://hitwebcounter.com/counter/counter.php?page=7830807&style=0038&nbdigits=9&type=page&initCount=0" title="Total CLoud Journey" alt="web counter" border=0>
</left><left><br><br><b>Last Updated</b><br><i><span id=lastUpdated style=color:orange></span>
</i><script>const today=new Date,formattedDate=today.toLocaleDateString("en-GB");document.getElementById("lastUpdated").textContent=formattedDate</script></left><left><br><br><b>Team</b><br><i><a href=https://www.facebook.com/groups/660548818043427 style=color:orange>First Cloud Journey</a><br></i></left><script async defer src=https://buttons.github.io/buttons.js></script></section></div></nav><section id=body><div id=overlay></div><div class="padding highlightable"><div><div id=top-bar><div id=breadcrumbs itemscope itemtype=http://data-vocabulary.org/Breadcrumb><span id=sidebar-toggle-span><a href=# id=sidebar-toggle data-sidebar-toggle><i class="fas fa-bars"></i>
</a></span><span id=toc-menu><i class="fas fa-list-alt"></i></span>
<span class=links><a href=../../../vi/>Báo cáo thực tập</a> > <a href=../../../vi/3-blogstranslated/>Các bài blogs đã dịch</a> > Blog 1</span></div><div class=progress><div class=wrapper><nav id=TableOfContents><ul><li><a href=#lợi-ích-của-hỗ-trợ-ipv6>Lợi ích của hỗ trợ IPv6</a></li><li><a href=#các-cấu-hình-được-hỗ-trợ>Các cấu hình được hỗ trợ</a></li><li><a href=#tổng-quan-về-ipv6-site-to-site-vpn>Tổng quan về IPv6 Site-to-Site VPN</a></li><li><a href=#mô-phỏng-trung-tâm-dữ-liệu-doanh-nghiệp>Mô phỏng trung tâm dữ liệu doanh nghiệp</a></li><li><a href=#hạ-tầng-aws>Hạ tầng AWS</a></li><li><a href=#cơ-sở-hạ-tầng-chung>Cơ sở hạ tầng chung</a></li><li><a href=#hạ-tầng-vpn>Hạ tầng VPN</a></li><li><a href=#hướng-dẫn-chi-tiết-ipv6-site-to-site-vpn>Hướng dẫn chi tiết IPv6 Site-to-Site VPN</a><ul><li><a href=#điều-kiện-tiên-quyết>Điều kiện tiên quyết</a></li><li><a href=#bước-1-customer-gateway>Bước 1. Customer gateway</a></li><li><a href=#bước-2-ipv6-site-to-site-vpn>Bước 2. IPv6 Site-to-Site VPN</a></li></ul></li></ul></nav></div></div></div></div><div id=head-tags></div><div id=body-inner><h1>Blog 1</h1><h1 id=aws-site-to-site-vpn-hiện-đã-hỗ-trợ-ipv6-trên-các-địa-chỉ-ip-bên-ngoài>AWS Site-to-Site VPN hiện đã hỗ trợ IPv6 trên các địa chỉ IP bên ngoài</h1><p><strong>bởi Ruskin Dantra, SaiJeevan Devireddy và Scott Morrison</strong><br><em>Ngày 24 tháng 9 năm 2025 – AWS Site-to-Site VPN, Networking & Content Delivery</em></p><hr><p>Amazon Web Services (AWS) Site-to-Site VPN là một dịch vụ được quản lý hoàn toàn cho phép bạn tạo một kết nối an toàn giữa data center hoặc văn phòng chi nhánh của bạn và các tài nguyên AWS của bạn bằng cách sử dụng IP Security (IPSec) tunnels. Nó cung cấp khả năng kết nối quan trọng cho nhiều loại workload: kết nối các workload on-premises với cloud, kết nối các thiết bị với cloud, và cung cấp liên lạc được mã hóa.</p><p>Site-to-Site VPN là một lựa chọn linh hoạt cho các nhóm để có được khả năng kết nối nhanh chóng. Khi một VPN tunnel được cấu hình, bạn phải chọn các địa chỉ IP bên ngoài và bên trong. IPv4 là lựa chọn duy nhất cho cả hai địa chỉ IP bên ngoài và bên trong cho đến năm 2018. Sau đó, chúng tôi đã phát hành hỗ trợ cho IPv6 cho các địa chỉ IP bên trong. Vào tháng 7 năm 2025, chúng tôi đã mở rộng điều này và công bố khả năng chỉ định IPv6 cho các địa chỉ IP bên ngoài.</p><p>Người dùng hiện có thể kết nối các mạng IPv6 của họ bằng cách sử dụng Site-to-Site VPN connectivity với địa chỉ IPv6 thuần túy, loại bỏ nhu cầu thực hiện chuyển đổi <code>IPv6 > IPv4 > IPv6</code>.</p><hr><h2 id=lợi-ích-của-hỗ-trợ-ipv6>Lợi ích của hỗ trợ IPv6</h2><ul><li><strong>Di chuyển sang IPv6</strong>: Với thông báo mới này, việc di chuyển sang IPv6 trở nên trực tiếp hơn, cho phép người dùng kết nối hai mạng IPv6 bằng cách chỉ sử dụng IPv6.</li><li><strong>Cạn kiệt IP</strong>: Tận dụng IPv6 cho outer tunnels cho phép bạn tiết kiệm các địa chỉ IPv4 có giá trị trong một môi trường nơi IPv4 đang trở thành một tài nguyên khan hiếm.</li><li><strong>Giảm chi phí</strong>: Với IPv6 trên các IP bên ngoài, bạn cũng có thể giảm chi phí kết nối hai mạng mà không cần phải trả tiền cho các địa chỉ IPv4 công khai ở bất kỳ phía nào của các tunnel của bạn (phía AWS và phía on-premises của bạn).</li><li><strong>Quy định và tuân thủ</strong>: Nếu bạn đang làm việc trong các ngành được quản lý như chính phủ, y tế, tài chính, và viễn thông, các địa chỉ bên ngoài IPv6 cho phép bạn đáp ứng các yêu cầu cho các mạng chỉ IPv6.</li></ul><hr><h2 id=các-cấu-hình-được-hỗ-trợ>Các cấu hình được hỗ trợ</h2><p>IPv6 chỉ được hỗ trợ khi Site-to-Site VPN kết thúc trên một <strong>AWS Transit Gateway</strong> hoặc trên một <strong>AWS Cloud WAN core network edge (CNE)</strong>. Hình 1 cho thấy một ví dụ về một IPv6 Site-to-Site VPN kết thúc trên một Transit Gateway.</p><p><strong>Hình 1: Kết nối IPv6-only VPN đến Transit Gateway</strong></p><p>Việc kết thúc một IPv6 Site-to-Site VPN trên một CNE tuân theo cùng một mô hình như hình trước đó.</p><hr><h2 id=tổng-quan-về-ipv6-site-to-site-vpn>Tổng quan về IPv6 Site-to-Site VPN</h2><p>Để bắt đầu thử nghiệm với một IPv6 Site-to-Site VPN, hãy tải xuống <strong>AWS CloudFormation template</strong> và triển khai trong AWS Region mà bạn chọn. Template chỉ cần một tham số: một địa chỉ email để thông báo cho bạn về bất kỳ sự cố ngừng hoạt động tiềm ẩn nào. Template này cung cấp cơ sở hạ tầng sau đây (được hiển thị trong Hình 2) trong tài khoản của bạn.</p><p><strong>Hình 2: Môi trường triển khai IPv6 Site-to-Site VPN CloudFormation</strong></p><p>Triển khai template này sẽ phát sinh chi phí, được trình bày trong phần <em>Cost</em> của bài viết. Tham khảo phần <em>Cleaning up</em> để biết hướng dẫn gỡ bỏ. Trong phần tiếp theo, chúng tôi sẽ trình bày chi tiết cơ sở hạ tầng được triển khai.</p><hr><h2 id=mô-phỏng-trung-tâm-dữ-liệu-doanh-nghiệp>Mô phỏng trung tâm dữ liệu doanh nghiệp</h2><p>Để mô phỏng một data center doanh nghiệp, template đã triển khai một VPC với cơ sở hạ tầng sau:</p><ul><li>Một Amazon VPC dual stack với hai tiền tố: một tiền tố IPv4 và một tiền tố IPv6.</li><li>Địa chỉ IPv6 của VPC có thể khác nhau tùy thuộc vào việc bạn sử dụng địa chỉ IPv6 do AWS cung cấp hoặc Bring Your Own IP (BYOIP).</li><li>Một internet gateway được gắn vào VPC. Đây là lớp nền (underlay) cho VPN của chúng ta và cho phép cài đặt và cấu hình Amazon Elastic Compute Cloud (Amazon EC2) VPN router, mô phỏng router on-premises của bạn.</li><li>Hai IPv6-only public subnet (chứa Amazon EC2 VPN router).</li><li>Một EC2 instance được triển khai trong IPv6-only public subnet ở trên để mô phỏng VPN router.</li><li>Hai public dual stack subnet.</li><li>Hai NAT gateway được triển khai trong các subnet trên để thực hiện NAT64, cho phép kết nối trực tiếp với Amazon EC2 VPN router bằng AWS Systems Manager Session Manager. Các NAT gateway này cũng rất quan trọng để thông báo cho CloudFormation khi các script đã hoàn tất việc thực thi thông qua các hook <code>cfn-*</code>.</li><li>Hai private dual stack subnet để chứa các VPC endpoint, truy cập các dịch vụ AWS khác thông qua AWS PrivateLink.</li><li>Hai IPv6-only private subnet để chứa một instance mà chúng ta có thể ping để kiểm thử.</li><li>Một EC2 instance được triển khai trong IPv6-only private subnet ở trên để mô phỏng test instance.</li></ul><hr><h2 id=hạ-tầng-aws>Hạ tầng AWS</h2><p>Template kết thúc IPv6 Site-to-Site VPN tại một <strong>Transit Gateway</strong> và chúng tôi đã triển khai cơ sở hạ tầng sau:</p><ul><li>Một Amazon VPC dual stack với hai tiền tố: một tiền tố IPv4 và một tiền tố IPv6.</li><li>Địa chỉ IPv6 của VPC có thể khác nhau tùy thuộc vào việc bạn sử dụng địa chỉ IPv6 do AWS cung cấp hoặc BYOIP.</li><li>Hai private dual stack subnet để chứa Transit Gateway attachment.</li><li>Một Transit Gateway có hỗ trợ IPv6.</li><li>VPC được gắn vào Transit Gateway, liên kết với default route table và truyền các route đến default route table.</li><li>Hai IPv6-only private subnet để chứa một instance mà chúng ta có thể ping để kiểm thử.</li><li>Một EC2 instance được triển khai trong IPv6-only private subnet ở trên để mô phỏng test instance.</li><li>Hai private dual stack subnet để chứa VPC endpoint truy cập các dịch vụ AWS khác thông qua AWS PrivateLink.</li><li>Một EC2 instance được triển khai trong dual stack private subnet ở trên để hoạt động như jump box. Điều này là cần thiết vì VPC này không có NAT gateway để thực hiện NAT64.</li></ul><hr><h2 id=cơ-sở-hạ-tầng-chung>Cơ sở hạ tầng chung</h2><ul><li><strong>AWS Secrets Manager</strong> để quản lý VPN pre-shared key.</li><li><strong>Amazon CloudWatch</strong> để lưu trữ log, metric, và alarm.</li><li>Một <strong>Amazon Simple Notification Service (Amazon SNS)</strong> topic để thông báo cho bạn về các sự cố, ví dụ như tunnel down.</li><li>Một <strong>AWS Key Management Service (AWS KMS)</strong> customer managed key (CMK) để mã hóa log của CloudWatch, secret trong Secrets Manager, và SNS topic.</li></ul><hr><h2 id=hạ-tầng-vpn>Hạ tầng VPN</h2><p>Template cũng triển khai các tài nguyên kết nối VPN sau để xây dựng IPv6 Site-to-Site VPN giữa trung tâm dữ liệu on-premises mô phỏng và AWS:</p><ul><li>Một customer gateway trong VPC đại diện logic cho router on-premises của bạn.</li><li>Một IPv6 Site-to-Site VPN connection kết thúc tại Transit Gateway.</li><li>Cấu hình EC2 instance mô phỏng router.</li></ul><hr><h2 id=hướng-dẫn-chi-tiết-ipv6-site-to-site-vpn>Hướng dẫn chi tiết IPv6 Site-to-Site VPN</h2><p>Các bước sau đây sẽ hướng dẫn chi tiết IPv6 Site-to-Site VPN.</p><h3 id=điều-kiện-tiên-quyết>Điều kiện tiên quyết</h3><p>Bạn cần đảm bảo các điều kiện sau để thực hiện hướng dẫn này:</p><ul><li>CloudFormation template đã được triển khai thành công mà không có lỗi.</li></ul><hr><h3 id=bước-1-customer-gateway>Bước 1. Customer gateway</h3><ol><li><p>Mở <strong>Amazon VPC console</strong> và điều hướng đến<br><strong>Virtual private network (VPN) > Customer gateways</strong>.</p><p><strong>Hình 3: Điều hướng đến customer gateways</strong></p></li><li><p>Chúng tôi đã triển khai một customer gateway cho bạn. Việc tạo một customer gateway cho IPv6 Site-to-Site VPN tuân theo các bước tương tự như đối với IPv4 Site-to-Site VPN.<br>Điểm khác biệt duy nhất là nó trỏ đến địa chỉ IP IPv6 của router của bạn. Trong trường hợp của chúng tôi, nó trỏ đến địa chỉ IPv6 của EC2 instance đang mô phỏng VPN router.</p><p><strong>Hình 4: Giao diện AWS VPC Console, chế độ xem Customer Gateway được chọn</strong></p></li><li><p>Nếu bạn điều hướng đến <strong>Amazon EC2 console</strong>, sau đó vào phần <strong>Instances</strong>, sẽ thấy một instance có tên <code>…-onprem-vpn/vpn-router-instance</code> với địa chỉ IPv6 tương ứng.</p><p><strong>Hình 5: EC2 VPN router với địa chỉ IP hiển thị</strong></p></li></ol><hr><h3 id=bước-2-ipv6-site-to-site-vpn>Bước 2. IPv6 Site-to-Site VPN</h3><p>Template cũng đã triển khai một kết nối <strong>IPv6 Site-to-Site VPN</strong>.</p><p><strong>Hình 6: Chế độ xem chi tiết IPv6 S2S VPN</strong></p><p>Các bước kiểm tra:</p><ol><li>Mở <strong>Amazon VPC console</strong>.</li><li>Trong thanh điều hướng, dưới mục <strong>Virtual private network (VPN)</strong>, chọn <strong>Site-to-Site VPN connections</strong>.</li><li>Chọn kết nối VPN được tạo bởi template có tên <code>…-vpn-connection</code>.</li><li>Kết nối này có một <strong>IPv6 Customer gateway address</strong> được liên kết với nó.</li><li>Điều hướng đến tab <strong>Tunnel details</strong>:<ul><li>Tại đây có hai <strong>IPv6 Outside IP address</strong>, mỗi tunnel một địa chỉ.</li><li>Ngoài ra còn có hai tiền tố <code>/126 IPv6 Inside IP address prefix</code>. Các địa chỉ này được AWS cấp phát từ dải <code>fd00::/8</code>.<ul><li>Từ tiền tố này, phía AWS của kết nối là địa chỉ IPv6 khả dụng đầu tiên.</li><li>Phía của bạn là địa chỉ IPv6 khả dụng thứ hai.</li><li>Ví dụ, nếu Inside IPv6 prefix của bạn là <code>fd00:…:cd90/126</code>, thì:<ul><li>Địa chỉ IPv6 phía AWS là <code>fd00:…:cd91</code></li><li>Địa chỉ IPv6 phía bạn là <code>fd00:…:cd92</code>.</li></ul></li></ul></li></ul></li></ol><blockquote><p>Để biết thêm chi tiết, tham khảo tài liệu hướng dẫn.</p></blockquote><p>IPv6 Site-to-Site VPN sử dụng <strong>dynamic routing</strong>, quảng bá tiền tố on-premises đến AWS.<br>Bạn có thể quan sát việc truyền tải on-premises route (<code>2001:db8:0:0::/56</code>) vào <strong>Transit Gateway route table</strong> thông qua <strong>Site-to-Site VPN attachment</strong>.</p><p><strong>Hình 7: Tuyến on-premises được truyền vào Transit Gateway route table</strong></p><h4 id=kiểm-tra-route-từ-phía-aws>Kiểm tra route từ phía AWS</h4><ol><li>Điều hướng đến <strong>Amazon VPC console</strong>.</li><li>Trong thanh điều hướng, dưới mục <strong>Transit gateways</strong>, chọn <strong>Transit gateway route tables</strong>.</li><li>Chọn route table được liên kết với Transit Gateway được tạo như một phần của stack này.<ul><li>Bạn có thể tham khảo biến <strong>CloudFormation output</strong> có tên <code>AwsTransitGatewayId</code> để đảm bảo rằng bạn đang xem đúng Transit Gateway route table.</li></ul></li></ol><h4 id=kiểm-tra-route-từ-phía-on-premises>Kiểm tra route từ phía on-premises</h4><ol><li>Điều hướng đến <strong>Amazon EC2 console</strong>.</li><li>Chọn instance có tên <code>…-onprem-vpc/vpn-router-instance</code>.</li><li>Ở góc trên bên phải, chọn <strong>Connect</strong>.</li><li>Sử dụng tab <strong>Session Manager</strong> và chọn <strong>Connect</strong>, thao tác này sử dụng Systems Manager để kết nối đến Amazon EC2 VPN router.</li><li>Chạy lệnh sau trong cửa sổ shell:</li></ol><footer class=footline></footer></div></div><div id=navigation><a class="nav nav-prev" href=../../../vi/3-blogstranslated/ title="Các bài blogs đã dịch"><i class="fa fa-chevron-left"></i></a>
<a class="nav nav-next" href=../../../vi/3-blogstranslated/3.3-blog3/ title="Blog 2" style=margin-right:0><i class="fa fa-chevron-right"></i></a></div></section><div style=left:-1000px;overflow:scroll;position:absolute;top:-1000px;border:none;box-sizing:content-box;height:200px;margin:0;padding:0;width:200px><div style=border:none;box-sizing:content-box;height:200px;margin:0;padding:0;width:200px></div></div><script src=../../../js/clipboard.min.js?1765374078></script><script src=../../../js/perfect-scrollbar.min.js?1765374078></script><script src=../../../js/perfect-scrollbar.jquery.min.js?1765374078></script><script src=../../../js/jquery.sticky.js?1765374078></script><script src=../../../js/featherlight.min.js?1765374078></script><script src=../../../js/highlight.pack.js?1765374078></script><script>hljs.initHighlightingOnLoad()</script><script src=../../../js/modernizr.custom-3.6.0.js?1765374078></script><script src=../../../js/learn.js?1765374078></script><script src=../../../js/hugo-learn.js?1765374078></script><link href=../../../mermaid/mermaid.css?1765374078 rel=stylesheet><script src=../../../mermaid/mermaid.js?1765374078></script><script>mermaid.initialize({startOnLoad:!0})</script><script>(function(e,t,n,s,o,i,a){e.GoogleAnalyticsObject=o,(e[o]=e[o]||function(){(e[o].q=e[o].q||[]).push(arguments)},e[o].l=1*new Date),(i=t.createElement(n),a=t.getElementsByTagName(n)[0]),i.async=1,i.src=s,a.parentNode.insertBefore(i,a)})(window,document,"script","https://www.google-analytics.com/analytics.js","ga"),ga("create","UA-158079754-2","auto"),ga("send","pageview")</script></body></html>