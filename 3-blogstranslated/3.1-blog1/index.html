<!doctype html><html lang=en class="js csstransforms3d"><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=generator content="Hugo 0.134.3"><meta name=description content><meta name=author content="thienlh@thienlu.com"><link rel=icon href=../../images/favicon.png type=image/png><title>Blog 1 :: Internship Report</title>
<link href=../../css/nucleus.css?1765374077 rel=stylesheet><link href=../../css/fontawesome-all.min.css?1765374077 rel=stylesheet><link href=../../css/hybrid.css?1765374077 rel=stylesheet><link href=../../css/featherlight.min.css?1765374077 rel=stylesheet><link href=../../css/perfect-scrollbar.min.css?1765374077 rel=stylesheet><link href=../../css/auto-complete.css?1765374077 rel=stylesheet><link href=../../css/atom-one-dark-reasonable.css?1765374077 rel=stylesheet><link href=../../css/theme.css?1765374077 rel=stylesheet><link href=../../css/hugo-theme.css?1765374077 rel=stylesheet><link href=../../css/theme-workshop.css?1765374077 rel=stylesheet><script src=../../js/jquery-3.3.1.min.js?1765374077></script><style>:root #header+#content>#left>#rlblock_left{display:none!important}</style></head><body data-url=../../3-blogstranslated/3.1-blog1/><nav id=sidebar class=showVisitedLinks><div id=header-wrapper><div id=header><a id=logo href=../../><svg id="Layer_1" data-name="Layer 1" viewBox="0 0 60 30" width="30%"><defs><style>.cls-1{fill:#fff}.cls-2{fill:#f90;fill-rule:evenodd}</style></defs><title>AWS-Logo_White-Color</title><path class="cls-1" d="M14.09 10.85a4.7 4.7.0 00.19 1.48 7.73 7.73.0 00.54 1.19.77.77.0 01.12.38.64.64.0 01-.32.49l-1 .7a.83.83.0 01-.44.15.69.69.0 01-.49-.23 3.8 3.8.0 01-.6-.77q-.25-.42-.51-1a6.14 6.14.0 01-4.89 2.3 4.54 4.54.0 01-3.32-1.19 4.27 4.27.0 01-1.22-3.2 4.28 4.28.0 011.46-3.4A6.06 6.06.0 017.69 6.46a12.47 12.47.0 011.76.13q.92.13 1.91.36V5.73a3.65 3.65.0 00-.79-2.66A3.81 3.81.0 007.86 2.3a7.71 7.71.0 00-1.79.22 12.78 12.78.0 00-1.79.57 4.55 4.55.0 01-.58.22h-.26q-.35.0-.35-.52V2a1.09 1.09.0 01.12-.58 1.2 1.2.0 01.47-.35A10.88 10.88.0 015.77.32 10.19 10.19.0 018.36.0a6 6 0 014.35 1.35 5.49 5.49.0 011.38 4.09zM7.34 13.38a5.36 5.36.0 001.72-.31A3.63 3.63.0 0010.63 12 2.62 2.62.0 0011.19 11a5.63 5.63.0 00.16-1.44v-.7a14.35 14.35.0 00-1.53-.28 12.37 12.37.0 00-1.56-.1 3.84 3.84.0 00-2.47.67A2.34 2.34.0 005 11a2.35 2.35.0 00.61 1.76A2.4 2.4.0 007.34 13.38zm13.35 1.8a1 1 0 01-.64-.16 1.3 1.3.0 01-.35-.65L15.81 1.51a3 3 0 01-.15-.67.36.36.0 01.41-.41H17.7a1 1 0 01.65.16 1.4 1.4.0 01.33.65l2.79 11 2.59-11A1.17 1.17.0 0124.39.6a1.1 1.1.0 01.67-.16H26.4a1.1 1.1.0 01.67.16 1.17 1.17.0 01.32.65L30 12.39 32.88 1.25A1.39 1.39.0 0133.22.6a1 1 0 01.65-.16h1.54a.36.36.0 01.41.41 1.36 1.36.0 010 .26 3.64 3.64.0 01-.12.41l-4 12.86a1.3 1.3.0 01-.35.65 1 1 0 01-.64.16H29.25a1 1 0 01-.67-.17 1.26 1.26.0 01-.32-.67L25.67 3.64l-2.56 10.7a1.26 1.26.0 01-.32.67 1 1 0 01-.67.17zm21.36.44a11.28 11.28.0 01-2.56-.29 7.44 7.44.0 01-1.92-.67 1 1 0 01-.61-.93v-.84q0-.52.38-.52a.9.9.0 01.31.06l.42.17a8.77 8.77.0 001.83.58 9.78 9.78.0 002 .2 4.48 4.48.0 002.43-.55 1.76 1.76.0 00.86-1.57 1.61 1.61.0 00-.45-1.16A4.29 4.29.0 0043 9.22l-2.41-.76A5.15 5.15.0 0138 6.78a3.94 3.94.0 01-.83-2.41 3.7 3.7.0 01.45-1.85 4.47 4.47.0 011.19-1.37 5.27 5.27.0 011.7-.86A7.4 7.4.0 0142.6.0a8.87 8.87.0 011.12.07q.57.07 1.08.19t.95.26a4.27 4.27.0 01.7.29 1.59 1.59.0 01.49.41.94.94.0 01.15.55v.79q0 .52-.38.52a1.76 1.76.0 01-.64-.2 7.74 7.74.0 00-3.2-.64 4.37 4.37.0 00-2.21.47 1.6 1.6.0 00-.79 1.48 1.58 1.58.0 00.49 1.18 4.94 4.94.0 001.83.92L44.55 7a5.08 5.08.0 012.57 1.6A3.76 3.76.0 0147.9 11a4.21 4.21.0 01-.44 1.93 4.4 4.4.0 01-1.21 1.47 5.43 5.43.0 01-1.85.93A8.25 8.25.0 0142.05 15.62z"/><path class="cls-2" d="M45.19 23.81C39.72 27.85 31.78 30 25 30A36.64 36.64.0 01.22 20.57c-.51-.46-.06-1.09.56-.74A49.78 49.78.0 0025.53 26.4 49.23 49.23.0 0044.4 22.53C45.32 22.14 46.1 23.14 45.19 23.81z"/><path class="cls-2" d="M47.47 21.21c-.7-.9-4.63-.42-6.39-.21-.53.06-.62-.4-.14-.74 3.13-2.2 8.27-1.57 8.86-.83s-.16 5.89-3.09 8.35c-.45.38-.88.18-.68-.32C46.69 25.8 48.17 22.11 47.47 21.21z"/></svg></a></div><div class=searchbox><label for=search-by><i class="fas fa-search"></i></label>
<input data-search-input id=search-by type=search placeholder=Search...>
<span data-search-clear><i class="fas fa-times"></i></span></div><script type=text/javascript src=../../js/lunr.min.js?1765374077></script><script type=text/javascript src=../../js/auto-complete.js?1765374077></script><script type=text/javascript>var baseurl="https://trucfptu.github.io/internshiop-report/"</script><script type=text/javascript src=../../js/search.js?1765374077></script></div><div class=highlightable><ul class=topics><li data-nav-id=/1-worklog/ title=Worklog class=dd-item><a href=../../1-worklog/><b>1. </b>Worklog
<i class="fas fa-check read-icon"></i></a><ul><li data-nav-id=/1-worklog/1.1-week1/ title="Week 1 Worklog" class=dd-item><a href=../../1-worklog/1.1-week1/><b>1.1. </b>Week 1 Worklog
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/1-worklog/1.2-week2/ title="Week 2 Worklog" class=dd-item><a href=../../1-worklog/1.2-week2/><b>1.2. </b>Week 2 Worklog
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/1-worklog/1.3-week3/ title="Week 3 Worklog" class=dd-item><a href=../../1-worklog/1.3-week3/><b>1.3. </b>Week 3 Worklog
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/1-worklog/1.4-week4/ title="Week 4 Worklog" class=dd-item><a href=../../1-worklog/1.4-week4/><b>1.4. </b>Week 4 Worklog
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/1-worklog/1.5-week5/ title="Week 5 Worklog" class=dd-item><a href=../../1-worklog/1.5-week5/><b>1.5. </b>Week 5 Worklog
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/1-worklog/1.6-week6/ title="Week 6 Worklog" class=dd-item><a href=../../1-worklog/1.6-week6/><b>1.6. </b>Week 6 Worklog
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/1-worklog/1.7-week7/ title="Week 7 Worklog" class=dd-item><a href=../../1-worklog/1.7-week7/><b>1.7. </b>Week 7 Worklog
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/1-worklog/1.8-week8/ title="Week 8 Worklog" class=dd-item><a href=../../1-worklog/1.8-week8/><b>1.8. </b>Week 8 Worklog
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/1-worklog/1.9-week9/ title="Week 9 Worklog" class=dd-item><a href=../../1-worklog/1.9-week9/><b>1.9. </b>Week 9 Worklog
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/1-worklog/1.10-week10/ title="Week 10 Worklog" class=dd-item><a href=../../1-worklog/1.10-week10/><b>1.10. </b>Week 10 Worklog
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/1-worklog/1.11-week11/ title="Week 11 Worklog" class=dd-item><a href=../../1-worklog/1.11-week11/><b>1.11. </b>Week 11 Worklog
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/1-worklog/1.12-week12/ title="Week 12 Worklog" class=dd-item><a href=../../1-worklog/1.12-week12/><b>1.12. </b>Week 12 Worklog
<i class="fas fa-check read-icon"></i></a></li></ul></li><li data-nav-id=/2-proposal/ title=Proposal class=dd-item><a href=../../2-proposal/><b>2. </b>Proposal
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/3-blogstranslated/ title="Translated Blogs" class="dd-item
parent"><a href=../../3-blogstranslated/><b>3. </b>Translated Blogs
<i class="fas fa-check read-icon"></i></a><ul><li data-nav-id=/3-blogstranslated/3.1-blog1/ title="Blog 1" class="dd-item
active"><a href=../../3-blogstranslated/3.1-blog1/><b>3.1. </b>Blog 1
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/3-blogstranslated/3.3-blog3/ title="Blog 2" class=dd-item><a href=../../3-blogstranslated/3.3-blog3/><b>3.2. </b>Blog 2
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/3-blogstranslated/3.4-blog4/ title="Blog 3" class=dd-item><a href=../../3-blogstranslated/3.4-blog4/><b>3.3. </b>Blog 3
<i class="fas fa-check read-icon"></i></a></li></ul></li><li data-nav-id=/4-eventparticipated/ title="Events Participated" class=dd-item><a href=../../4-eventparticipated/><b>4. </b>Events Participated
<i class="fas fa-check read-icon"></i></a><ul><li data-nav-id=/4-eventparticipated/4.1-event1/ title="Event 1" class=dd-item><a href=../../4-eventparticipated/4.1-event1/><b>4.1. </b>Event 1
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/4-eventparticipated/4.5-event5/ title=Event5 class=dd-item><a href=../../4-eventparticipated/4.5-event5/><b>4.2. </b>Event5
<i class="fas fa-check read-icon"></i></a></li></ul></li><li data-nav-id=/5-workshop/ title=Workshop class=dd-item><a href=../../5-workshop/><b>5. </b>Workshop
<i class="fas fa-check read-icon"></i></a><ul><li data-nav-id=/5-workshop/5.1-workshop-overview/ title=Introduction class=dd-item><a href=../../5-workshop/5.1-workshop-overview/><b>5.1. </b>Introduction
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/5-workshop/5.2-prerequiste/ title=Prerequiste class=dd-item><a href=../../5-workshop/5.2-prerequiste/><b>5.2. </b>Prerequiste
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/5-workshop/5.3-create-environmnet/ title="Create environment" class=dd-item><a href=../../5-workshop/5.3-create-environmnet/><b>5.3 </b>Create environment
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/5-workshop/5.4upload-and-deploy/ title="Upload and deploy" class=dd-item><a href=../../5-workshop/5.4upload-and-deploy/><b>5.4. </b>Upload and deploy
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/5-workshop/5.5-policy/ title="Access the application and test" class=dd-item><a href=../../5-workshop/5.5-policy/><b>5.5. </b>Access the application and test
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/5-workshop/5.6-cleanup/ title="Monitoring and Clean up" class=dd-item><a href=../../5-workshop/5.6-cleanup/><b>5.6. </b>Monitoring and Clean up
<i class="fas fa-check read-icon"></i></a></li></ul></li><li data-nav-id=/6-self-evaluation/ title=Self-Assessment class=dd-item><a href=../../6-self-evaluation/><b>6. </b>Self-Assessment
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/7-feedback/ title="Sharing and Feedback" class=dd-item><a href=../../7-feedback/><b>7. </b>Sharing and Feedback
<i class="fas fa-check read-icon"></i></a></li></ul><section id=shortcuts><h3>More</h3><ul><li><a class=padding href=https://www.facebook.com/groups/awsstudygroupfcj/><i class='fab fa-facebook'></i> AWS Study Group</a></li></ul></section><section id=prefooter><hr><ul><li><a class=padding><i class="fas fa-language fa-fw"></i><div class=select-style><select id=select-language onchange="location=this.value"><option id=en value=https://trucfptu.github.io/internshiop-report/3-blogstranslated/3.1-blog1/ selected>English</option><option id=vi value=https://trucfptu.github.io/internshiop-report/vi/3-blogstranslated/3.1-blog1/>Tiếng Việt</option></select><svg id="Capa_1" xmlns:xlink="http://www.w3.org/1999/xlink" width="255" height="255" viewBox="0 0 255 255" style="enable-background:new 0 0 255 255"><g><g id="arrow-drop-down"><polygon points="0,63.75 127.5,191.25 255,63.75"/></g></g></svg></div></a></li><li><a class=padding href=# data-clear-history-toggle><i class="fas fa-history fa-fw"></i> Clear History</a></li></ul></section><section id=footer><left><b>Workshop</b><br><img src="https://hitwebcounter.com/counter/counter.php?page=7920860&style=0038&nbdigits=9&type=page&initCount=0" title=Migrate alt="web counter" border=0></a><br><b><a href=https://cloudjourney.awsstudygroup.com/>Cloud Journey</a></b><br><img src="https://hitwebcounter.com/counter/counter.php?page=7830807&style=0038&nbdigits=9&type=page&initCount=0" title="Total CLoud Journey" alt="web counter" border=0>
</left><left><br><br><b>Last Updated</b><br><i><span id=lastUpdated style=color:orange></span>
</i><script>const today=new Date,formattedDate=today.toLocaleDateString("en-GB");document.getElementById("lastUpdated").textContent=formattedDate</script></left><left><br><br><b>Team</b><br><i><a href=https://www.facebook.com/groups/660548818043427 style=color:orange>First Cloud Journey</a><br></i></left><script async defer src=https://buttons.github.io/buttons.js></script></section></div></nav><section id=body><div id=overlay></div><div class="padding highlightable"><div><div id=top-bar><div id=breadcrumbs itemscope itemtype=http://data-vocabulary.org/Breadcrumb><span id=sidebar-toggle-span><a href=# id=sidebar-toggle data-sidebar-toggle><i class="fas fa-bars"></i>
</a></span><span id=toc-menu><i class="fas fa-list-alt"></i></span>
<span class=links><a href=../../>Internship Report</a> > <a href=../../3-blogstranslated/>Translated Blogs</a> > Blog 1</span></div><div class=progress><div class=wrapper><nav id=TableOfContents><ul><li><a href=#benefits-of-ipv6-support>Benefits of IPv6 support</a></li><li><a href=#supported-configurations>Supported configurations</a></li><li><a href=#ipv6-site-to-site-vpn-overview>IPv6 Site-to-Site VPN overview</a></li><li><a href=#simulated-enterprise-data-center>Simulated enterprise data center</a></li><li><a href=#aws-infrastructure>AWS infrastructure</a></li><li><a href=#shared-infrastructure>Shared infrastructure</a></li><li><a href=#vpn-infrastructure>VPN infrastructure</a></li><li><a href=#ipv6-site-to-site-vpn-walkthrough>IPv6 Site-to-Site VPN walkthrough</a><ul><li><a href=#prerequisites>Prerequisites</a></li><li><a href=#step-1-customer-gateway>Step 1: Customer gateway</a></li><li><a href=#step-2-ipv6-site-to-site-vpn>Step 2: IPv6 Site-to-Site VPN</a></li></ul></li></ul></nav></div></div></div></div><div id=head-tags></div><div id=body-inner><h1>Blog 1</h1><h1 id=aws-site-to-site-vpn-now-supports-ipv6-on-external-ip-addresses>AWS Site-to-Site VPN now supports IPv6 on external IP addresses</h1><p><strong>By Ruskin Dantra, SaiJeevan Devireddy, and Scott Morrison</strong><br><em>September 24, 2025 – AWS Site-to-Site VPN, Networking & Content Delivery</em></p><hr><p>Amazon Web Services (AWS) Site-to-Site VPN is a fully managed service that enables you to create a secure connection between your data center or branch office and your AWS resources using IP Security (IPSec) tunnels. It provides critical connectivity for many types of workloads, including connecting on-premises workloads to the cloud, connecting devices to the cloud, and enabling encrypted communication.</p><p>Site-to-Site VPN is a flexible option for teams that need fast connectivity. When a VPN tunnel is configured, you must choose both external and internal IP addresses. IPv4 was the only option for both external and internal IP addresses until 2018, when AWS introduced support for IPv6 for internal IP addresses. In July 2025, AWS expanded this capability by announcing support for assigning IPv6 addresses to external IPs.</p><p>You can now connect IPv6 networks using Site-to-Site VPN connectivity with native IPv6 addresses, eliminating the need for IPv6 → IPv4 → IPv6 translation.</p><hr><h2 id=benefits-of-ipv6-support>Benefits of IPv6 support</h2><ul><li><p><strong>Migration to IPv6</strong><br>This announcement enables a more straightforward transition to IPv6, allowing users to connect two IPv6 networks using only IPv6.</p></li><li><p><strong>IPv4 address exhaustion</strong><br>Using IPv6 for outer tunnels helps conserve valuable IPv4 addresses in an environment where IPv4 has become scarce.</p></li><li><p><strong>Cost reduction</strong><br>With IPv6 on external IPs, you can reduce the cost of connecting two networks without paying for public IPv4 addresses on either side of the tunnels (AWS side and on-premises side).</p></li><li><p><strong>Regulatory and compliance requirements</strong><br>For regulated industries such as government, healthcare, finance, and telecommunications, IPv6 external addresses make it easier to meet requirements for IPv6-only networks.</p></li></ul><hr><h2 id=supported-configurations>Supported configurations</h2><p>IPv6 is supported only when Site-to-Site VPN terminates on an <strong>AWS Transit Gateway</strong> or an <strong>AWS Cloud WAN core network edge (CNE)</strong>. Figure 1 shows an example of an IPv6 Site-to-Site VPN terminating on a Transit Gateway.</p><p><strong>Figure 1: IPv6-only VPN connection to a Transit Gateway</strong></p><p>Terminating an IPv6 Site-to-Site VPN on a CNE follows the same model as shown above.</p><hr><h2 id=ipv6-site-to-site-vpn-overview>IPv6 Site-to-Site VPN overview</h2><p>To get started with an IPv6 Site-to-Site VPN, download the provided <strong>AWS CloudFormation template</strong> and deploy it in the AWS Region of your choice. The template requires only one parameter: an email address for notifications about potential outages. The template deploys the infrastructure shown in Figure 2 into your account.</p><p><strong>Figure 2: IPv6 Site-to-Site VPN CloudFormation deployment environment</strong></p><p>Deploying this template incurs costs, which are described in the <strong>Cost</strong> section. Refer to <strong>Cleaning up</strong> for teardown instructions. In the next sections, we describe the deployed infrastructure in detail.</p><hr><h2 id=simulated-enterprise-data-center>Simulated enterprise data center</h2><p>To simulate an enterprise data center, the template deploys a VPC with the following infrastructure:</p><ul><li>An Amazon VPC configured as dual stack with one IPv4 prefix and one IPv6 prefix.</li><li>The VPC IPv6 prefix can vary depending on whether you use AWS-provided IPv6 or Bring Your Own IP (BYOIP).</li><li>An internet gateway attached to the VPC. This provides the VPN underlay and allows installation and configuration of the Amazon EC2 VPN router that simulates your on-premises router.</li><li>Two IPv6-only public subnets that host the Amazon EC2 VPN router.</li><li>An EC2 instance deployed in the IPv6-only public subnet to simulate the VPN router.</li><li>Two public dual-stack subnets.</li><li>Two NAT gateways deployed in those subnets to perform NAT64, allowing direct connectivity to the EC2 VPN router using AWS Systems Manager Session Manager. The NAT gateways are also required for CloudFormation to receive completion signals from <code>cfn-*</code> hooks.</li><li>Two private dual-stack subnets for VPC endpoints that access other AWS services through AWS PrivateLink.</li><li>Two IPv6-only private subnets to host test instances.</li><li>An EC2 instance deployed in an IPv6-only private subnet to simulate a test instance.</li></ul><hr><h2 id=aws-infrastructure>AWS infrastructure</h2><p>The template terminates the IPv6 Site-to-Site VPN at a Transit Gateway and deploys the following infrastructure:</p><ul><li>A dual-stack Amazon VPC with one IPv4 prefix and one IPv6 prefix.</li><li>Two private dual-stack subnets to host Transit Gateway attachments.</li><li>A Transit Gateway with IPv6 support enabled.</li><li>The VPC attached to the Transit Gateway, associated with the default route table, and configured to propagate routes to the default route table.</li><li>Two IPv6-only private subnets that host test instances.</li><li>An EC2 instance deployed in an IPv6-only private subnet to simulate a test instance.</li><li>Two private dual-stack subnets that host VPC endpoints for accessing AWS services through AWS PrivateLink.</li><li>An EC2 instance deployed in a dual-stack private subnet that acts as a jump box. This is required because this VPC does not have a NAT gateway for NAT64.</li></ul><hr><h2 id=shared-infrastructure>Shared infrastructure</h2><ul><li><strong>AWS Secrets Manager</strong> for managing the VPN pre-shared key.</li><li><strong>Amazon CloudWatch</strong> for logs, metrics, and alarms.</li><li>An <strong>Amazon Simple Notification Service (Amazon SNS)</strong> topic for outage notifications, such as tunnel-down events.</li><li>An <strong>AWS Key Management Service (AWS KMS)</strong> customer managed key (CMK) to encrypt CloudWatch logs, Secrets Manager secrets, and the SNS topic.</li></ul><hr><h2 id=vpn-infrastructure>VPN infrastructure</h2><p>The template also deploys the following VPN connectivity resources to build an IPv6 Site-to-Site VPN between the simulated on-premises data center and AWS:</p><ul><li>A customer gateway that logically represents your on-premises router.</li><li>An IPv6 Site-to-Site VPN connection that terminates on the Transit Gateway.</li><li>Configuration of the EC2 instance that simulates the router.</li></ul><hr><h2 id=ipv6-site-to-site-vpn-walkthrough>IPv6 Site-to-Site VPN walkthrough</h2><p>The following steps walk you through the IPv6 Site-to-Site VPN configuration.</p><h3 id=prerequisites>Prerequisites</h3><p>Ensure the following before proceeding:</p><ul><li>The CloudFormation template has deployed successfully with no errors.</li></ul><hr><h3 id=step-1-customer-gateway>Step 1: Customer gateway</h3><ol><li><p>Open the <strong>Amazon VPC console</strong> and navigate to<br><strong>Virtual private network (VPN) → Customer gateways</strong>.</p><p><strong>Figure 3: Navigate to customer gateways</strong></p></li><li><p>A customer gateway is already deployed for you. Creating a customer gateway for an IPv6 Site-to-Site VPN follows the same steps as for IPv4. The only difference is that it points to the IPv6 address of your router. In this case, it points to the IPv6 address of the EC2 instance simulating the VPN router.</p><p><strong>Figure 4: AWS VPC Console – Customer Gateway view</strong></p></li><li><p>Navigate to the <strong>Amazon EC2 console</strong>, open <strong>Instances</strong>, and locate the instance named<br><code>…-onprem-vpn/vpn-router-instance</code>. Its associated IPv6 address is displayed.</p><p><strong>Figure 5: EC2 VPN router with IPv6 address</strong></p></li></ol><hr><h3 id=step-2-ipv6-site-to-site-vpn>Step 2: IPv6 Site-to-Site VPN</h3><p>The template also deploys an IPv6 Site-to-Site VPN connection.</p><p><strong>Figure 6: IPv6 Site-to-Site VPN details</strong></p><ol><li>Open the <strong>Amazon VPC console</strong>.</li><li>In the navigation pane, choose <strong>Virtual private network (VPN) → Site-to-Site VPN connections</strong>.</li><li>Select the VPN connection created by the template named <code>…-vpn-connection</code>.</li><li>This connection has an associated <strong>IPv6 customer gateway address</strong>.</li><li>Navigate to the <strong>Tunnel details</strong> tab:<ul><li>Two <strong>IPv6 outside IP addresses</strong>, one per tunnel.</li><li>Two <code>/126 IPv6 inside IP address prefixes</code>. These addresses are allocated from the <code>fd00::/8</code> range.<ul><li>The first usable IPv6 address is on the AWS side.</li><li>The second usable IPv6 address is on your side.</li><li>Example: if the inside IPv6 prefix is <code>fd00:…:cd90/126</code>:<ul><li>AWS side: <code>fd00:…:cd91</code></li><li>On-premises side: <code>fd00:…:cd92</code></li></ul></li></ul></li></ul></li></ol><p>IPv6 Site-to-Site VPN uses <strong>dynamic routing</strong> and advertises on-premises prefixes to AWS.<br>You can observe the on-premises route (<code>2001:db8:0:0::/56</code>) propagated into the Transit Gateway route table via the Site-to-Site VPN attachment.</p><p><strong>Figure 7: On-premises route propagated to the Transit Gateway route table</strong></p><h4 id=verify-routes-on-the-aws-side>Verify routes on the AWS side</h4><ol><li>Open the <strong>Amazon VPC console</strong>.</li><li>In the navigation pane, choose <strong>Transit gateways → Transit gateway route tables</strong>.</li><li>Select the route table associated with the Transit Gateway created by the stack.<ul><li>Use the CloudFormation output <code>AwsTransitGatewayId</code> to confirm the correct Transit Gateway.</li></ul></li></ol><h4 id=verify-routes-on-the-on-premises-side>Verify routes on the on-premises side</h4><ol><li>Open the <strong>Amazon EC2 console</strong>.</li><li>Select the instance named <code>…-onprem-vpc/vpn-router-instance</code>.</li><li>Choose <strong>Connect</strong>, then use <strong>Session Manager</strong> to connect.</li><li>Run the following command:</li></ol><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>sudo vtysh -c <span style=color:#e6db74>&#34;show ipv6 route bgp&#34;</span>
</span></span></code></pre></div><footer class=footline></footer></div></div><div id=navigation><a class="nav nav-prev" href=../../3-blogstranslated/ title="Translated Blogs"><i class="fa fa-chevron-left"></i></a>
<a class="nav nav-next" href=../../3-blogstranslated/3.3-blog3/ title="Blog 2" style=margin-right:0><i class="fa fa-chevron-right"></i></a></div></section><div style=left:-1000px;overflow:scroll;position:absolute;top:-1000px;border:none;box-sizing:content-box;height:200px;margin:0;padding:0;width:200px><div style=border:none;box-sizing:content-box;height:200px;margin:0;padding:0;width:200px></div></div><script src=../../js/clipboard.min.js?1765374077></script><script src=../../js/perfect-scrollbar.min.js?1765374077></script><script src=../../js/perfect-scrollbar.jquery.min.js?1765374077></script><script src=../../js/jquery.sticky.js?1765374077></script><script src=../../js/featherlight.min.js?1765374077></script><script src=../../js/highlight.pack.js?1765374077></script><script>hljs.initHighlightingOnLoad()</script><script src=../../js/modernizr.custom-3.6.0.js?1765374077></script><script src=../../js/learn.js?1765374077></script><script src=../../js/hugo-learn.js?1765374077></script><link href=../../mermaid/mermaid.css?1765374077 rel=stylesheet><script src=../../mermaid/mermaid.js?1765374077></script><script>mermaid.initialize({startOnLoad:!0})</script><script>(function(e,t,n,s,o,i,a){e.GoogleAnalyticsObject=o,(e[o]=e[o]||function(){(e[o].q=e[o].q||[]).push(arguments)},e[o].l=1*new Date),(i=t.createElement(n),a=t.getElementsByTagName(n)[0]),i.async=1,i.src=s,a.parentNode.insertBefore(i,a)})(window,document,"script","https://www.google-analytics.com/analytics.js","ga"),ga("create","UA-158079754-2","auto"),ga("send","pageview")</script></body></html>